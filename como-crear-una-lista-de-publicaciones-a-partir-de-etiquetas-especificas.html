<!DOCTYPE html><html lang="es"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Cómo crear una lista de publicaciones a partir de etiquetas específicas - ProyectoWebs</title><meta name="description" content="A veces, puede que necesites mostrar una lista de publicaciones de una o varias etiquetas específicas en un artículo. Es&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://gabrielgenri.github.io/ProyectoWebs/como-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html"><link rel="alternate" type="application/atom+xml" href="https://gabrielgenri.github.io/ProyectoWebs/feed.xml"><link rel="alternate" type="application/json" href="https://gabrielgenri.github.io/ProyectoWebs/feed.json"><meta property="og:title" content="Cómo crear una lista de publicaciones a partir de etiquetas específicas - ProyectoWebs "><meta property="og:image" content="https://gabrielgenri.github.io/ProyectoWebs/media/website/Sin-titulo-1.png"><meta property="og:image:width" content="208"><meta property="og:image:height" content="40"><meta property="og:site_name" content="ProyectoWebs"><meta property="og:description" content="A veces, puede que necesites mostrar una lista de publicaciones de una o varias etiquetas específicas en un artículo. Es&hellip;"><meta property="og:url" content="https://gabrielgenri.github.io/ProyectoWebs/como-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://gabrielgenri.github.io/ProyectoWebs/assets/css/fontawesome-all.min.css?v=85514f933f9e0b82460af63f1a403fa5"><link rel="stylesheet" href="https://gabrielgenri.github.io/ProyectoWebs/assets/css/style.css?v=1c1d9ee0a09cb9d2c0e8499bb6ca0acb"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://gabrielgenri.github.io/ProyectoWebs/como-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html"},"headline":"Cómo crear una lista de publicaciones a partir de etiquetas específicas","datePublished":"2024-12-06T20:56-03:00","dateModified":"2024-12-06T20:56-03:00","image":{"@type":"ImageObject","url":"https://gabrielgenri.github.io/ProyectoWebs/media/website/Sin-titulo-1.png","height":40,"width":208},"description":"A veces, puede que necesites mostrar una lista de publicaciones de una o varias etiquetas específicas en un artículo. Es&hellip;","author":{"@type":"Person","name":"Gabriel Genri","url":"https://gabrielgenri.github.io/ProyectoWebs/authors/gabriel-genri/"},"publisher":{"@type":"Organization","name":"Gabriel Genri","logo":{"@type":"ImageObject","url":"https://gabrielgenri.github.io/ProyectoWebs/media/website/Sin-titulo-1.png","height":40,"width":208}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script>document.addEventListener('DOMContentLoaded',()=>{const backToTopButton=document.getElementById('backToTop');if(backToTopButton){const backToTopScrollFunction=()=>{if(document.body.scrollTop>400||document.documentElement.scrollTop>400){backToTopButton.classList.add('is-visible');}else{backToTopButton.classList.remove('is-visible');}};const backToTopFunction=()=>{window.scrollTo({top:0,behavior:'smooth'});};window.addEventListener('scroll',backToTopScrollFunction);backToTopButton.addEventListener('click',backToTopFunction);}});</script></head><body class="is-preload post-template"><div id="wrapper"><div id="main"><div class="inner"><div id="search" class="alt"></div><header id="header"><a class="logo logo-image" href="https://gabrielgenri.github.io/ProyectoWebs/"><img src="https://gabrielgenri.github.io/ProyectoWebs/media/website/Sin-titulo-1.png" alt="ProyectoWebs" width="208" height="40"></a><ul class="icons"><li><a href="https://www.facebook.com/GabrielGenri.prensa" target="_blank" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li></ul></header><article class="post"><header class="main post__header"><time datetime="2024-12-06T20:56" class="post__date">6 dic. 2024</time><h1>Cómo crear una lista de publicaciones a partir de etiquetas específicas</h1></header><div class="post__inner post__entry"><header><p class="post__title"><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">A veces, puede que necesites mostrar una lista de publicaciones de una o varias etiquetas específicas en un artículo. Es posible hacerlo mediante un código corto: </span><strong style="font-family: var(--editor-font-family); font-size: inherit;">[posts tags="x,y,z" count="5"]</strong><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> . Para implementar esto, tenemos que seguir algunos pasos de codificación, como se muestra a continuación:</span></p></header><div class="post__entry"><p><span>Habilitamos la opción createContentStructure en la sección de renderizado del archivo </span><strong><span>config.json</span></strong><span> :</span></p><div class="code-toolbar"><pre class="language-json" tabindex="0"><code>"renderer": {
		"relatedPostsNumber": 3,
		"createContentStructure": true,
		...
	    },</code></pre><div class="toolbar"><div class="toolbar-item"><a><span>Copiar</span></a></div></div></div><p><span>Ahora tenemos que crear/agregar el siguiente código a nuestro archivo </span><strong><span>helpers.js</span></strong><span> :</span></p><div class="code-toolbar"><pre class="language-javascript" tabindex="0"><code>/*
 * Custom theme helpers for Handlebars.js
 */
let themeHelpers = {
    parseShortcode: function(postText, content) {
     let allTags = content.data.website.contentStructure.tags;
     let matches = postText.match(/\[posts tags="(.*?)" count="(.*?)"\]/gmi);
     
     if(!matches) {
     return postText;
     }
     
     for(let i = 0; i &lt; matches.length; i++) {
     let tags = matches[i].match(/tags="(.*?)"/);
     let count = matches[i].match(/count="(.*?)"/);
     count = count[1];
 let tagNames = tags[1].split(',');
 let posts = [];
 let output = '';
 
 for(let j = 0; j &lt; tagNames.length; j++) {
 for(let k = 0; k &lt; allTags.length; k++) {
 if(allTags[k].slug === tagNames[j]) {
 for(let l = 0; l &lt; allTags[k].posts.length; l++) {
 posts.push(allTags[k].posts[l]);
 }
 }
 }
 }
 
 posts = [...new Set(posts)];
 posts.sort((a, b) =&gt; parseInt(a.createdAt) - parseInt(b.createdAt));
     posts = posts.slice(0, count);
     
     if(posts.length) {
     output = '&lt;ol&gt;';
     
     for(let j = 0; j &lt; posts.length; j++) {
     output += '&lt;li&gt;&lt;a href="' + posts[j].url + '"&gt;' + posts[j].title + '&lt;/a&gt;&lt;/li&gt;';
     }
     output += '&lt;/ol&gt;';
     }
     postText = postText.replace(matches[i], output);
     }
      return postText;
    }
};
module.exports = themeHelpers;</code></pre><div class="toolbar"><div class="toolbar-item"><a><span>Copiar</span></a></div></div></div><p><span>Si su archivo de ayudantes existente incluye otros fragmentos de código, deberá combinarlos de la siguiente manera:</span></p><div class="code-toolbar"><pre class="language-javascript" tabindex="0"><code>/*
 * Custom theme helpers for Handlebars.js
 */

let themeHelpers = {
 lazyLoadForContentImages: function(postText) {
 let modifiedPostText = postText;
 // Select all images from the content
 modifiedPostText = modifiedPostText.replace(/&lt;img[a-zA-Z0-9\s\"\'\=\-]*?src="(.*?)".*?&gt;/gmi, function(match, url) {
 // Create *-xs image path
 let image = url.split('.');

 if(
 url.indexOf('/gallery/') === -1 &amp;&amp; (
 image[image.length - 1] === 'jpeg' ||
 image[image.length - 1] === 'jpg' ||
 image[image.length - 1] === 'png' ||
 image[image.length - 1] === 'JPEG' ||
 image[image.length - 1] === 'JPG' ||
 image[image.length - 1] === 'PNG'
 )
 ) {
 let xsImage = image.slice(0, image.length - 1).join('.') + '-xs.' + image[image.length - 1];
 xsImage = xsImage.split('/');
 xsImage[xsImage.length - 2] = xsImage[xsImage.length - 2] + '/responsive';
 xsImage = xsImage.join('/');
 // Replace src attribute with *-xs image path
 match = match.replace(/src=".*?"/gi, 'src="' + xsImage + '"');
 // change srcset to data-srcset
 match = match.replace('srcset="', 'data-srcset="');
 // replace sizes with data-sizes
 match = match.replace(/sizes=".*?"/i, 'data-sizes="auto"');
 // add necessary CSS classes
 if(match.indexOf('class="') &gt; -1) {
 match = match.replace('class="', 'class="lazyload blur-up ');
 } else {
 match = match.replace('&lt;img', '&lt;img class="lazyload blur-up"');
 }
 }
 // return modified &lt;img&gt; tag
 return match;
 });

 return modifiedPostText;
 },
 
 parseShortcode: function(postText, content) {
 let allTags = content.data.website.contentStructure.tags;
 let matches = postText.match(/\[posts tags="(.*?)" count="(.*?)"\]/gmi);
 
 if(!matches) {
 return postText;
 }
 
 for(let i = 0; i &lt; matches.length; i++) {
 let tags = matches[i].match(/tags="(.*?)"/);
 let count = matches[i].match(/count="(.*?)"/);
 count = count[1];
 let tagNames = tags[1].split(',');
 let posts = [];
 let output = '';
 
 for(let j = 0; j &lt; tagNames.length; j++) {
 for(let k = 0; k &lt; allTags.length; k++) {
 if(allTags[k].slug === tagNames[j]) {
 for(let l = 0; l &lt; allTags[k].posts.length; l++) {
 posts.push(allTags[k].posts[l]);
 }
 }
 }
 }
 
 posts = [...new Set(posts)];
 posts.sort((a, b) =&gt; parseInt(a.createdAt) - parseInt(b.createdAt));
 posts = posts.slice(0, count);
 
 if(posts.length) {
 output = '&lt;ol&gt;';
 
 for(let j = 0; j &lt; posts.length; j++) {
 output += '&lt;li&gt;&lt;a href="' + posts[j].url + '"&gt;' + posts[j].title + '&lt;/a&gt;&lt;/li&gt;';
 }
 output += '&lt;/ol&gt;';
 }
 postText = postText.replace(matches[i], output);
 }
 return postText;
 }
};

module.exports = themeHelpers;</code></pre><div class="toolbar"><div class="toolbar-item"><a><span>Copiar</span></a></div></div></div><p><span>Ahora tenemos que agregar el ayudante a los lugares donde debe aparecer el contenido con shortcode, así que, por ejemplo, vamos al archivo post.habs y lo editamos de la siguiente manera:</span></p><p><span>Cambiar el </span><code>{{{text}}}</code><span>a</span><code>{{{parseShortcode text}}}</code></p><p><span>Consejos: Puedes encontrar en nuestros temas otro ayudante </span><code>{{{lazyLoadForContentImages text}}}</code><span>  para cargar la imagen de la publicación con carga diferida, por lo que tenemos que conectar ambos ayudantes entre sí. Afortunadamente, Handlebars ofrece soporte para subexpresiones, lo que te permite invocar múltiples ayudantes dentro de un solo mustache. Es muy fácil de hacer:</span></p><div class="code-toolbar"><pre class="language-handlebars" tabindex="0"><code>{{{parseShortcode (lazyLoadForContentImages text)}}}</code></pre><div class="toolbar"><div class="toolbar-item"><a><span>Copiar</span></a></div></div></div><p><span>Finalmente, abra/cree una publicación y agréguele el siguiente código corto: </span><strong><span>[posts tags="x,y,z" count="5"]</span></strong><span>  donde x,y,z son los nombres de las etiquetas separados por una coma y el 5 es el número de etiquetas mostradas.</span></p><p><span>Una cosa interesante a tener en cuenta aquí es que si las etiquetas especificadas contienen la misma publicación, esa publicación solo se mostrará una vez en la lista, en lugar de tener duplicados en la lista.</span></p></div></div><footer class="post__inner post__footer"><p class="post__last-updated">Actualizado el: 6 dic. 2024</p><div class="post__share"><h3>Compartir:</h3><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fgabrielgenri.github.io%2FProyectoWebs%2Fcomo-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html" class="js-share icon brands fa-facebook" rel="nofollow noopener noreferrer"><span class="label">Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fgabrielgenri.github.io%2FProyectoWebs%2Fcomo-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html&amp;via=ProyectoWebs&amp;text=C%C3%B3mo%20crear%20una%20lista%20de%20publicaciones%20a%20partir%20de%20etiquetas%20espec%C3%ADficas" class="js-share icon brands fa-x-twitter" rel="nofollow noopener noreferrer"><span class="label">Twitter</span> </a><a href="https://api.whatsapp.com/send?text=C%C3%B3mo%20crear%20una%20lista%20de%20publicaciones%20a%20partir%20de%20etiquetas%20espec%C3%ADficas https%3A%2F%2Fgabrielgenri.github.io%2FProyectoWebs%2Fcomo-crear-una-lista-de-publicaciones-a-partir-de-etiquetas-especificas.html" class="js-share icon brands fa-whatsapp" rel="nofollow noopener noreferrer"><span class="label">WhatsApp</span></a></div><div class="post__tag"><ul><li><strong>Etiquetado en:</strong></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/tags/publii/">Publii</a></li></ul></div><div class="post__bio"><div><h3><a href="https://gabrielgenri.github.io/ProyectoWebs/authors/gabriel-genri/" class="invert" rel="author">Gabriel Genri</a></h3></div></div></footer></article><div class="comments-area"><div class="post__inner"></div></div></div></div><div id="sidebar"><div class="inner"><section></section><nav id="menu"><header class="major"><a class="logo logo-image" href="https://gabrielgenri.github.io/ProyectoWebs/"><img src="https://gabrielgenri.github.io/ProyectoWebs/media/website/Sin-titulo-1.png" alt="ProyectoWebs" width="208" height="40"></a></header><ul><li><a href="https://gabrielgenri.github.io/ProyectoWebs/" target="_self">Inicio</a></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/tags/" target="_self">BLOG</a></li><li class="has-submenu"><span aria-haspopup="true" class="opener">Plantillas de Páginas</span><ul class="submenu level-2" aria-hidden="true"><li><a href="https://gabrielgenri.github.io/ProyectoWebs/pagina-empty-container.html" target="_self">Página Empty Container</a></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/blog.html" target="_self">Página con Plantilla Nueva</a></li></ul></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/authors/gabriel-genri/" target="_self">AUTOR</a></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/quienes-somos.html" target="_self">Somos</a></li><li class="has-submenu"><span aria-haspopup="true" class="opener">Material</span><ul class="submenu level-2" aria-hidden="true"><li><a href="https://gabrielgenri.github.io/ProyectoWebs/tags/publii/">Publii</a></li></ul></li><li><a href="https://gabrielgenri.github.io/ProyectoWebs/libro-diario.html" target="_self">Libro Diario</a></li></ul></nav><footer id="footer"><p class="copyright">© Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="https://gabrielgenri.github.io/ProyectoWebs/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://gabrielgenri.github.io/ProyectoWebs/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://gabrielgenri.github.io/ProyectoWebs/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://gabrielgenri.github.io/ProyectoWebs/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://gabrielgenri.github.io/ProyectoWebs/assets/js/main.min.js?v=08add7f6d435054ad38ec38d7cf8be40"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script><script src="https://gabrielgenri.github.io/ProyectoWebs/media/plugins/pagePrefetching/quicklink.umd.js"></script><script>window.addEventListener('load', () => {
					quicklink.listen({
						prerender: false,
						el: document.querySelector('body'),
						delay: 0,
						limit: Infinity,
						throttle: Infinity,
						timeout: 2000
					});
				});</script></body></html>